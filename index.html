
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ServiComp Online</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f9fafb;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      background: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      border-radius: 8px;
      overflow: hidden;
    }
    thead {
      background-color: #2d6cdf;
      color: white;
    }
    th, td {
      padding: 12px 15px;
      text-align: left;
    }
    tbody tr:nth-child(even) {
      background-color: #f0f4fa;
    }
    a {
      color: #1a73e8;
      text-decoration: none;
      font-weight: 600;
    }
    .loading {
      text-align: center;
      font-size: 1.2em;
      margin-top: 40px;
    }
  </style>
</head>
<body><div style="text-align:center; margin-top: 10px; font-size: 14px;">Visitante N¬∞ 25212</div>
  
<h1>ServiComp Online </h1>
<p style="text-align: center; color: #d32f2f; font-weight: 600; margin-top: -10px; margin-bottom: 20px;">
  Cotizaci√≥n v√°lida por 48 horas ‚Äî precios y stock sujetos a modificaci√≥n sin previo aviso.
</p>

  <div class="loading">Cargando productos...</div>
  <table style="display: none;">
    <thead>
      <tr>
        <th>C√≥digo</th>
        <th>Descripci√≥n</th>
        <th>Detalles</th>
        <th>Stock</th>
        <th>Precio</th>
        <th>Foto</th>
      </tr>
    </thead>
    <tbody id="tabla-productos"></tbody>
  </table>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script>
    async function cargarFiltro() {
      const res = await fetch("https://raw.githubusercontent.com/Digicodeperu/RED/main/filtro.txt");
      const txt = await res.text();
      return txt.split("\n").map(x => x.trim()).filter(x => x.length > 0);
    }

    async function cargarExcel() {
      const res = await fetch("https://raw.githubusercontent.com/Digicodeperu/RED/main/productos.xlsx");
      const data = await res.arrayBuffer();
      const workbook = XLSX.read(data, { type: "array" });
      const sheet = workbook.Sheets[workbook.SheetNames[0]];
      return XLSX.utils.sheet_to_json(sheet);
    }

    function generarLinkImagen(codigo) {
  const cod = codigo.toLowerCase();
  const sub1 = cod.substring(0, 2);
  let sub2 = cod.substring(2, 4);

  if (cod.includes("wd")) {
    sub2 = "dw";  // Excepci√≥n para Western Digital
  }

  return `https://imagenes.deltron.com.pe/images/productos//items/large/${sub1}/${sub2}/${cod}.jpg`;
}

function crearFila(p) {
  const tr = document.createElement("tr");
  const precio = Math.round(Number(p["PRECIO EN SOLES"] || 0));
  const linkImg = generarLinkImagen(p["CODIGO"]);
  tr.innerHTML = `
    <td>${p["MINI CODIGO"]}</td>
    <td>${p["DESCRIPCION"]}</td>
    <td>${p["DETALLES"]}</td>
    <td>${p["STOCK"]}</td>
    <td>S/ ${precio}</td>
    <td><a href="${linkImg}" target="_blank">Ver FOTO</a></td>
  `;
  return tr;
}

    async function mostrarProductos() {
      const [filtro, productos] = await Promise.all([cargarFiltro(), cargarExcel()]);
      const cuerpo = document.getElementById("tabla-productos");
      const tabla = document.querySelector("table");
      const loading = document.querySelector(".loading");

      productos
        .filter(p => filtro.includes(String(p["MINI CODIGO"]).trim()))
        .forEach(p => cuerpo.appendChild(crearFila(p)));

      tabla.style.display = "table";
      loading.style.display = "none";
    }

    mostrarProductos();
  </script>

<div id="login" style="position:fixed;top:0;left:0;width:100%;height:100%;background:#fff;z-index:9999;display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:Arial,sans-serif;">
  <h2>Acceso restringido</h2>
  <input id="claveInput" placeholder="Ingrese clave" style="padding:10px;font-size:16px;border:1px solid #ccc;border-radius:4px;">
  <button onclick="verificarClave()" style="margin-top:10px;padding:10px 20px;font-size:16px;">Entrar</button>
  <p id="errorClave" style="color:red;margin-top:10px;"></p>
</div>
<script>
  async function verificarClave() {
    const claveIngresada = document.getElementById("claveInput").value.trim();
    const respuesta = await fetch('https://raw.githubusercontent.com/Digicodeperu/RED/main/filtro.txt');
    const texto = await respuesta.text();
    const claves = texto.trim().split('\n');
    const claveCorrecta = claves[0].trim();
    if (claveIngresada === claveCorrecta) {
      document.getElementById("login").style.display = "none";
    } else {
      document.getElementById("errorClave").innerText = "Clave incorrecta.";
    }
  }
</script>



<div id="sabiasque" style="text-align: center; color: #555; font-style: italic; margin-top: 14px; font-size: 14px;">
</div>

<script>
  const curiosidades = [
    [
  { "texto": "La IA generativa revolucion√≥ la productividad en oficinas en 2024.", "autor": "McKinsey Global Report 2024" },
  { "texto": "ChatGPT-5 fue lanzado con capacidades avanzadas de razonamiento en 2025.", "autor": "OpenAI" },
  { "texto": "Apple present√≥ sus primeras Mac con chips M4 en 2025.", "autor": "Apple Keynote 2025" },
  { "texto": "El 60% de las empresas en Am√©rica Latina usan IA en al menos un proceso.", "autor": "IDC LATAM 2025" },
  { "texto": "La Realidad Aumentada se integr√≥ masivamente en la educaci√≥n virtual en 2024.", "autor": "EdTech Trends 2024" },
  { "texto": "Microsoft integr√≥ Copilot en todas sus aplicaciones de Office en 2024.", "autor": "Microsoft Build 2024" },
  { "texto": "Google lanz√≥ Gemini 2, su modelo multimodal de IA, en febrero de 2025.", "autor": "Google DeepMind" },
  { "texto": "La computaci√≥n cu√°ntica alcanz√≥ los 100 qubits estables por primera vez.", "autor": "IBM Research 2025" },
  { "texto": "El 2025 marc√≥ un r√©cord en ciberataques dirigidos a infraestructura cr√≠tica.", "autor": "Kaspersky Cybersecurity Report" },
  { "texto": "El uso de asistentes de voz se duplic√≥ en dispositivos del hogar.", "autor": "Voice AI Adoption 2025" },
  { "texto": "TikTok super√≥ los 2.000 millones de usuarios activos en 2024.", "autor": "Statista 2024" },
  { "texto": "Meta lanz√≥ su nueva generaci√≥n de gafas VR Quest 4 en 2025.", "autor": "Meta Connect 2025" },
  { "texto": "Samsung present√≥ pantallas flexibles enrollables en el CES 2025.", "autor": "CES 2025 Highlights" },
  { "texto": "Se aprob√≥ el primer reglamento mundial para la inteligencia artificial en Europa.", "autor": "AI Act de la UE" },
  { "texto": "OpenAI lanz√≥ herramientas nativas para crear agentes personalizados en GPTs.", "autor": "OpenAI DevDay 2024" },
  { "texto": "Tesla present√≥ su robot humanoide Optimus v2 con mayor autonom√≠a.", "autor": "Tesla AI Day 2025" },
  { "texto": "La demanda de programadores en IA creci√≥ un 38% globalmente.", "autor": "LinkedIn Workforce Trends 2025" },
  { "texto": "El 80% de los smartphones vendidos en 2025 usan pantallas OLED.", "autor": "DisplayTech Global 2025" },
  { "texto": "Spotify integr√≥ DJ con IA en todos los mercados de habla hispana.", "autor": "Spotify Press 2024" },
  { "texto": "YouTube comenz√≥ a usar IA para subt√≠tulos y res√∫menes autom√°ticos.", "autor": "YouTube Creator Blog 2025" },
  { "texto": "NVIDIA se convirti√≥ en la empresa m√°s valiosa del mundo en 2025.", "autor": "Forbes Tech Rankings 2025" },
  { "texto": "Amazon present√≥ su primer centro log√≠stico 100% automatizado.", "autor": "Amazon Robotics News 2024" },
  { "texto": "Se lanzaron los primeros smartphones con conectividad satelital directa.", "autor": "Qualcomm Satellite Tech 2024" },
  { "texto": "La automatizaci√≥n en el comercio minorista alcanz√≥ el 45% en 2025.", "autor": "RetailTech Insights" },
  { "texto": "WhatsApp introdujo edici√≥n de mensajes hasta 15 minutos despu√©s de enviados.", "autor": "Meta Updates 2024" },
  { "texto": "La ONU alert√≥ sobre los riesgos √©ticos de la IA sin regulaci√≥n clara.", "autor": "Informe ONU Tecnolog√≠a 2025" },
  { "texto": "Se popularizaron las plataformas de creaci√≥n de m√∫sica con IA.", "autor": "MusicTech 2025" },
  { "texto": "Los autos el√©ctricos representaron el 28% de las ventas globales de veh√≠culos.", "autor": "Bloomberg EV Outlook 2025" },
  { "texto": "Zoom integr√≥ traducci√≥n simult√°nea en tiempo real con IA.", "autor": "Zoom AI Suite 2025" },
  { "texto": "M√°s del 50% de los dispositivos del hogar tienen sensores inteligentes.", "autor": "SmartHome Adoption Index 2025" }
]

  ];

  function mostrarCuriosidad() {
    const item = curiosidades[Math.floor(Math.random() * curiosidades.length)];
    document.getElementById("sabiasque").innerHTML = `üí° <strong>¬øSab√≠as que‚Ä¶?</strong> ${item.texto}<br>‚Äî <em>${item.autor}</em>`;
  }

  window.onload = mostrarCuriosidad;
</script>

</body>
</html>
